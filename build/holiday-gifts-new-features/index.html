<!doctype html>
<html>
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <title>Holiday Gifts - New Features - Nanobox Blog</title>
  <link rel="shortcut icon" type="image/png" href="/images/favicon-57864095.png"/>
  <link href='https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  <link href="/stylesheets/all-49321954.css" rel="stylesheet" type="text/css" />
  <script src="/javascripts/all-ca42ab1c.js" type="text/javascript"></script>
  <!-- Google Analytics -->
  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'UA-760419-20', 'auto');
    ga('send', 'pageview');
  </script>
  <script async src='//www.google-analytics.com/analytics.js'></script>
</head>
  <body>
  <div class='top-nav'>
  <a href="https://nanobox.io"><svg enable-background='new 0 0 19 33' id='nb-logo-sm' space='preserve' version='1.1' viewbox='0 0 19 33' x='0px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' y='0px'>
    <g>
      <g>
        <polygon fill='#405C70' points='19,26 9.6,30.9 0,26 9.4,21.1'></polygon>
        <polygon fill='#2F4352' points='15,24 9.5,26.9 3.9,24 9.4,21.1'></polygon>
        <polygon fill='#1C2830' points='9.6,30.9 19,26.1 19,27.4 9.6,32.3 '></polygon>
        <polygon fill='#19242B' points='9.6,30.9 0,26 0,27.3 9.6,32.3 '></polygon>
      </g>
      <g>
        <polygon fill='#1E77A3' points='9.5,23.1 17.2,19.1 17.2,20.3 9.5,24.2 '></polygon>
        <polygon fill='#175D80' points='9.5,23.1 1.8,19.1 1.8,20.3 9.5,24.2 '></polygon>
        <polygon fill='#62B1DD' points='17.2,19.1 9.5,23.1 1.8,19.1 9.5,15.2'></polygon>
        <polygon enable-background='new' fill='#0B194F' opacity='0.42' points='15.1,18.1 9.5,21 3.9,18.1 9.5,15.2 '></polygon>
      </g>
      <g>
        <polygon fill='#43C494' points='9.5,16.9 18.8,12.2 18.8,13.5 9.5,18.3 '></polygon>
        <polygon fill='#4AAA88' points='9.5,16.9 0.2,12.2 0.2,13.5 9.5,18.3 '></polygon>
        <polygon fill='#7FE0BF' points='18.8,12.2 9.5,16.9 0.2,12.2 9.5,7.4 '></polygon>
        <polygon enable-background='new' fill='#43C4A6' opacity='0.76' points='16.3,10.9 9.5,14.4 2.7,10.9 9.5,7.4'></polygon>
      </g>
      <g>
        <polygon fill='#FDE5A6' points='18.8,4.8 9.5,9.6 0.2,4.8 9.5,0'></polygon>
        <polygon fill='#E9D399' points='9.5,9.6 18.8,4.8 18.8,6.2 9.5,11'></polygon>
        <polygon fill='#D9BB6F' points='9.5,9.6 0.2,4.8 0.2,6.2 9.5,11'></polygon>
      </g>
    </g>
  </svg>
  <svg enable-background='new 0 0 123.9 15.9' id='nb-logotype' space='preserve' version='1.1' viewbox='0 0 123.9 15.9' x='0px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' y='0px'>
    <path d='M1.6,0.3l8.9,12.9h0V0.3H12v15.3h-1.6L1.5,2.7h0v12.9H0V0.3H1.6z' fill='#466479'></path>
    <path d='M25.1,0.3l6,15.3h-1.6l-1.9-4.8h-7l-1.9,4.8h-1.5l6.2-15.3H25.1z M27.2,9.6l-3-7.8l-3.1,7.8L27.2,9.6&#x000A;			L27.2,9.6z' fill='#466479'></path>
    <path d='M37.9,0.3l8.9,12.9h0V0.3h1.5v15.3h-1.6L37.8,2.7h0v12.9h-1.5V0.3H37.9z' fill='#466479'></path>
    <path d='M54.9,5c0.3-1,0.8-1.8,1.4-2.5c0.6-0.7,1.4-1.3,2.3-1.8c0.9-0.4,2-0.7,3.2-0.7c1.2,0,2.2,0.2,3.1,0.7&#x000A;			c0.9,0.4,1.6,1,2.3,1.8C67.7,3.1,68.2,4,68.5,5c0.3,1,0.5,2,0.5,3c0,1.1-0.1,2.1-0.5,3c-0.3,1-0.8,1.8-1.4,2.5&#x000A;			c-0.6,0.7-1.4,1.3-2.3,1.7c-0.9,0.4-1.9,0.7-3.1,0.7c-1.2,0-2.3-0.2-3.2-0.7c-0.9-0.4-1.7-1-2.3-1.7c-0.6-0.7-1.1-1.6-1.4-2.5&#x000A;			c-0.3-1-0.4-2-0.4-3S54.6,5.9,54.9,5z M56.3,10.4c0.2,0.8,0.6,1.5,1,2.2c0.5,0.6,1.1,1.1,1.8,1.5c0.7,0.4,1.6,0.6,2.6,0.6&#x000A;			c1,0,1.9-0.2,2.6-0.6c0.7-0.4,1.3-0.9,1.8-1.5c0.5-0.6,0.8-1.4,1-2.2c0.2-0.8,0.3-1.6,0.3-2.5c0-0.8-0.1-1.7-0.3-2.5&#x000A;			c-0.2-0.8-0.6-1.5-1-2.2c-0.5-0.6-1.1-1.1-1.8-1.5c-0.7-0.4-1.6-0.6-2.6-0.6c-1,0-1.9,0.2-2.6,0.6c-0.7,0.4-1.3,0.9-1.8,1.5&#x000A;			c-0.5,0.6-0.8,1.4-1,2.2C56,6.3,55.9,7.1,55.9,8C55.9,8.8,56,9.6,56.3,10.4z' fill='#466479'></path>
    <path d='M81.5,0.3c0.6,0,1.3,0.1,1.9,0.2c0.6,0.1,1.1,0.3,1.6,0.6c0.4,0.3,0.8,0.7,1.1,1.2&#x000A;			c0.3,0.5,0.4,1.1,0.4,1.8c0,0.4-0.1,0.8-0.2,1.2c-0.1,0.4-0.3,0.7-0.5,1c-0.2,0.3-0.5,0.6-0.8,0.8s-0.7,0.4-1.1,0.5v0&#x000A;			c1,0.1,1.8,0.5,2.4,1.2c0.6,0.7,0.9,1.5,0.9,2.5c0,0.2,0,0.5-0.1,0.8c0,0.3-0.1,0.6-0.3,0.9c-0.1,0.3-0.3,0.6-0.6,1&#x000A;			c-0.2,0.3-0.6,0.6-1,0.8c-0.4,0.2-0.9,0.4-1.5,0.6c-0.6,0.1-1.3,0.2-2.1,0.2H75V0.3L81.5,0.3L81.5,0.3L81.5,0.3L81.5,0.3z M81.5,7&#x000A;			C82.1,7,82.6,7,83,6.8c0.4-0.1,0.8-0.3,1.1-0.6c0.3-0.2,0.5-0.5,0.6-0.8c0.1-0.3,0.2-0.6,0.2-1c0-1.9-1.1-2.9-3.5-2.9h-5V7L81.5,7&#x000A;			L81.5,7z M81.5,14.4c0.5,0,1.1,0,1.5-0.1c0.5-0.1,0.9-0.3,1.3-0.5c0.4-0.2,0.7-0.6,0.9-1c0.2-0.4,0.3-0.9,0.3-1.5&#x000A;			c0-1-0.3-1.7-1-2.2c-0.7-0.5-1.7-0.7-3-0.7h-5v6.1L81.5,14.4L81.5,14.4z' fill='#466479'></path>
    <path d='M92.8,5c0.3-1,0.8-1.8,1.4-2.5c0.6-0.7,1.4-1.3,2.3-1.8c0.9-0.4,2-0.7,3.2-0.7c1.2,0,2.3,0.2,3.1,0.7&#x000A;			c0.9,0.4,1.6,1,2.2,1.8c0.6,0.7,1.1,1.6,1.4,2.5c0.3,1,0.4,2,0.4,3c0,1.1-0.1,2.1-0.4,3c-0.3,1-0.8,1.8-1.4,2.5&#x000A;			c-0.6,0.7-1.4,1.3-2.2,1.7c-0.9,0.4-2,0.7-3.1,0.7c-1.2,0-2.3-0.2-3.2-0.7c-0.9-0.4-1.7-1-2.3-1.7c-0.6-0.7-1.1-1.6-1.4-2.5&#x000A;			c-0.3-1-0.5-2-0.5-3S92.5,5.9,92.8,5z M94.2,10.4c0.2,0.8,0.6,1.5,1,2.2c0.5,0.6,1.1,1.1,1.8,1.5c0.7,0.4,1.6,0.6,2.6,0.6&#x000A;			c1,0,1.9-0.2,2.6-0.6c0.7-0.4,1.3-0.9,1.8-1.5c0.5-0.6,0.8-1.4,1-2.2c0.2-0.8,0.3-1.6,0.3-2.5c0-0.8-0.1-1.7-0.3-2.5&#x000A;			c-0.2-0.8-0.6-1.5-1-2.2c-0.5-0.6-1.1-1.1-1.8-1.5c-0.7-0.4-1.6-0.6-2.6-0.6c-1,0-1.9,0.2-2.6,0.6c-0.7,0.4-1.3,0.9-1.8,1.5&#x000A;			c-0.5,0.6-0.8,1.4-1,2.2c-0.2,0.8-0.3,1.6-0.3,2.5C93.8,8.8,93.9,9.6,94.2,10.4z' fill='#466479'></path>
    <path d='M113.2,0.3l4.3,6.4l4.5-6.4h1.6l-5.2,7.5l5.5,7.8h-1.8l-4.7-6.8l-4.7,6.8h-1.6l5.5-7.9l-5.2-7.4L113.2,0.3&#x000A;			L113.2,0.3z' fill='#466479'></path>
  </svg>
  </a>
  <a class='blog' href='/'>Blog</a>
  <ul class='right'>
    <li id='docs'>
      <a href='https://docs.nanobox.io'>Docs</a>
    </li>
    <li id='desktop'>
      <a href='https://desktop.nanobox.io'>Desktop</a>
    </li>
    <li id='login'>
      <a href='https://dashboard.nanobox.io'>Login/Register</a>
    </li>
  </ul>
</div>
    
    <div class="wrapper fade-in">
      <div class="title-block">
        <h1>Holiday Gifts - New Features</h1>
        <p class="meta">
          <span class="author">Tyler Flint</span>
           &#9642; 
          <span class="date">Dec 18 2015</span>
        </p>
      </div>
      <div class="content">
        <p>As we prepare for the holidays, we’re excited to rollout a series of new features and enhancements. The past few weeks have been very good to Nanobox, and we’re anxiously nearing a beta release of Nanobox Desktop. We have a lot of functionality to cover, so let’s get right to it...</p>

<h2 id="zero-config-dev-mode">Zero Config Dev Mode</h2>

<h3 id="the-problem">The Problem</h3>

<p>The &#39;dev&#39; container environment is auto-configured and the source code from the host is mounted into the dev container. As part of the environment preparation, engines may configure required services like Redis or Postgres. By design, nanobox will not alter the original source code on the host in any way. The usability challenge here is that, as a result of nanobox being nonintrusive, &#39;nanobox dev&#39; can&#39;t auto-generate application configuration. If nanobox were to modify or generate application configuration files, those changes would be pushed back onto the original source, thus violating our strict nonintrusive contract.</p>

<p>Essentially, an application using nanobox in dev mode will require the developer to modify the configuration manually in order to connect to the auto-generated services within nanobox. Not ideal.</p>

<h3 id="the-solution">The Solution</h3>

<p>The solution is to allow the engine to generate the configuration files as it would in run mode. Then when the dev container is created, those generated configuration files are bind mounted on top of the original configuration files. This allows the application within the dev container to connect to the auto-generated services, without requiring manual intervention or modifying the source files. </p>

<p>This behavior provides engine developers with powerful leverage to create zero-configuration development environments. In the coming months, users can expect to run <code>nanobox dev</code> in their application source directory and have a fully-configured application without any modifications to the actual source code.</p>

<p>This was a substantial, coordinated effort across multiple projects of various specialties contributed by <a href="https://github.com/glinton">Greg (glinton)</a>, <a href="https://github.com/lyondhill">Lyon (lyondhill)</a>, <a href="https://github.com/sdomino">Domino (sdomino)</a>, and <a href="https://github.com/tylerflint">myself (tylerflint)</a>. </p>

<h2 id="custom-dev-working-directory">Custom Dev Working Directory</h2>

<p><a href="https://github.com/lyondhill">Lyon</a> has provided an enhancement to the <code>nanobox dev</code> workflow by giving you the ability to specify a custom working directory the dev console session drops you into. This can be set by the application developer for a specific app, or transparently via the engine and is extremely helpful for languages like <a href="https://golang.org/">go</a>, which require the build process to occur within a specific directory. </p>

<p>The configuration happens within the ‘dev’ node of the Boxfile, like this:</p>
<pre class="highlight yaml"><code><span class="s">dev</span><span class="pi">:</span>
  <span class="s">working_dir</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/code/some/nested/dir'</span>
</code></pre>

<h2 id="tcp-udp-and-http-converge">TCP, UDP, and HTTP Converge</h2>

<p>As the modern web evolves into mobile and IoT, applications are evolving away from the typical http request/response cycle. In fact, we’re seeing that many applications can handle multiple types of services within the same process. <a href="http://nanopack.io/">Nanopack</a> projects are examples of this; wherein the majority of these projects offer a tcp or udp service, but expose an http api for management. </p>

<p>With ‘nanobox run’, which is the <a href="https://nanobox.io/cloud/">Nanobox Cloud</a> emulator, you can now natively support multiple services within the same process. Not only is this helpful when running your app locally within <a href="https://desktop.nanobox.io/">Desktop</a>, but also in how you will run your app in production with <a href="https://nanobox.io/cloud/">Cloud</a>.</p>

<p>Within the Boxfile, you can specify ports for each web service. To accomplish this functionality, port definitions have been expanded to support the protocol. Here’s an example of an app’s web service that depends on multiple protocols:</p>
<pre class="highlight yaml"><code><span class="s">web1</span><span class="pi">:</span>
  <span class="s">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">tcp:9000</span>
    <span class="pi">-</span> <span class="s">http:80:8080</span>
    <span class="pi">-</span> <span class="s">https:443:8080</span>
</code></pre>

<p>As shown in this example, a port declaration follows this format: <code>&lt;protocol&gt;:&lt;external port&gt;:&lt;internal port&gt;</code></p>

<p>The external port is the publicly accessible port clients use. The internal port is the port your application listens on within the container. Again, special thanks to <a href="https://github.com/lyondhill">Lyon</a>.</p>

<h2 id="stand-alone-updater">Stand-Alone Updater</h2>

<p><a href="https://github.com/sdomino">Domino</a> has been hard at work on a stand-alone updater binary. Unsuspecting bugs are still lurking, hard as we try. We will get them all eventually, but in the meantime, we’ve decided a stand-alone updater is prudent, as often times one of these unforeseen issues can (and have) impeded the ability to update the binary to a version where the bug is fixed. The update process will look the same, however, behind the scenes, an isolated child process will be launched to handle the update procedure. This will also bring auto-update capabilities to Windows!</p>

<h2 id="proxy-support">Proxy Support</h2>

<p><a href="https://github.com/glinton">Greg</a> has brought proxy support to Nanobox Desktop, thanks to the insights and help of <a href="https://github.com/mattn">Matt</a> (the creator of <a href="https://github.com/mattn/gom">Gom</a>). The beauty of this implementation is that if your host is configured to use a proxy, Nanobox Desktop will detect it and configure both Docker and the nanobox daemon inside the VM to use the same proxy configuration.</p>

<h2 id="build-image-enhancements">Build Image Enhancements</h2>

<p>Finally, <a href="https://github.com/tylerflint">I’ve</a> added a series of enhancements and bug fixes to the build process. Thanks in part to <a href="https://github.com/jason-riddle">Jason</a>, who discovered some Python environment inconsistencies, we were able to identify some foundational changes that provide a seamless dev workflow for Python and other virtual environments. </p>

<h2 id="happy-holidays">Happy Holidays</h2>

<p>We’ve seen lots of movement in a short period of time, thanks to the <a href="https://github.com/orgs/nanobox-io/people">dedicated team</a> and to all those who have volunteered time and code to this effort. Stay tuned for some exciting announcements at the beginning of the year and a clear roadmap for <a href="https://nanobox.io/cloud/">Cloud</a> and <a href="https://engines.nanobox.io/">engines</a>.</p>

<p>Happy holidays!</p>

      </div>
      <div class="author-block">
        <img class="gravatar" src="https://s.gravatar.com/avatar/d16320670cd226d7d4984698585e2fbc">
        <div class="info">
          <p class="author"><span>Tyler Flint</span>            
             <a class="twitter" target="_blank" href="https://twitter.com/tyler_flint">@tyler_flint</a>
              <a class="github" target="_blank" href="https://github.com/tylerflint">tylerflint</a>
          </p>
          <p class="summary">Husband, dad, LDS, entrepreneur, Nanobox cofounder.</p>
        </div>
      </div>
      <div class="feedback">
        <p>Have feedback on this post? Let
          <a target="_blank" href="https://twitter.com/intent/tweet?text=@nanobox_io%20&amp;amp;url=https://blog.nanobox.io/holiday-gifts-new-features/">@nanobox_io</a>
            or <a target="_blank" href="https://twitter.com/intent/tweet?text=@tyler_flint%20&amp;amp;url=https://blog.nanobox.io/holiday-gifts-new-features/">@tyler_flint</a>
          know on Twitter.</p>
      </div>
      <hr class="end">
    </div>
    <aside>
  <ul>
    <li><h2>Recent Posts</h2></li>
      <li>
        <span class="small-date">Feb 19</span><br/>
        <a href="/our-move-away-from-zero-config/">Our Move Away from “Zero-Config”</a>
      </li>
      <li>
        <span class="small-date">Feb 11</span><br/>
        <a href="/we-re-back-with-updates/">We're Back with Updates</a>
      </li>
      <li>
        <span class="small-date">Dec 18</span><br/>
        <a href="/holiday-gifts-new-features/">Holiday Gifts - New Features</a>
      </li>
      <li>
        <span class="small-date">Dec 11</span><br/>
        <a href="/new-feature-live-reloading/">New Feature&#58; Live Reloading</a>
      </li>
      <li>
        <span class="small-date">Dec  4</span><br/>
        <a href="/the-vision-of-nanobox/">The Vision of Nanobox</a>
      </li>
  </ul>
  <ul>
    <li><h2>Tags</h2></li>
      <li><a href="/tags/open-source/">Open Source (3)</a></li>
      <li><a href="/tags/updates/">Updates (5)</a></li>
      <li><a href="/tags/features/">Features (4)</a></li>
      <li><a href="/tags/our-vision/">Our Vision (3)</a></li>
  </ul>
  <ul>
    <li><h2>Archives</h2></li>
      <li><a href="/2016/">2016 (2)</a></li>
      <li><a href="/2015/">2015 (9)</a></li>
  </ul>
  <p class="feed">Subscribe to the <a href="/feed.xml" target="_blank">feed</a></p>
</aside>

  </body>
</html>
